# ğŸ›ï¸ ç”³è¨´æ©Ÿåˆ¶è©³ç´°è¦åŠƒ

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°
å¯¦ç¾æŠ•ç¥¨çµæœç”³è¨´å’Œæ’¤éŠ·åŠŸèƒ½ï¼Œç¢ºä¿å…¬å¹³å…¬æ­£çš„äººäº‹æ±ºç­–æµç¨‹ã€‚

## ğŸ”§ æ•¸æ“šæ¨¡å‹è¨­è¨ˆ

### VoteAppeal (ç”³è¨´è¨˜éŒ„è¡¨)
```javascript
{
  id: INTEGER (ä¸»éµ),
  campaignId: INTEGER (æŠ•ç¥¨æ´»å‹•ID),
  appealingEmployeeId: INTEGER (ç”³è¨´äººID),
  targetEmployeeId: INTEGER (è¢«ç”³è¨´æ±ºå®šå½±éŸ¿çš„å“¡å·¥ID),
  appealType: ENUM('promotion_result', 'demotion_result', 'vote_manipulation', 'unfair_process'),
  appealReason: TEXT (ç”³è¨´ç†ç”±),
  appealStatus: ENUM('pending', 'under_review', 'approved', 'rejected', 'withdrawn'),
  appealSubmittedAt: DATE (ç”³è¨´æäº¤æ™‚é–“),
  appealDeadline: DATE (ç”³è¨´æˆªæ­¢æ™‚é–“),
  reviewedBy: INTEGER (å¯©æ ¸äººå“¡ID),
  reviewedAt: DATE (å¯©æ ¸æ™‚é–“),
  reviewNotes: TEXT (å¯©æ ¸å‚™è¨»),
  reviewDecision: TEXT (å¯©æ ¸æ±ºå®šèªªæ˜),
  originalResult: JSON (åŸå§‹æŠ•ç¥¨çµæœ),
  appealOutcome: ENUM('maintain_result', 'revote', 'direct_override', 'position_restored'),
  evidenceFiles: JSON (è­‰æ“šæ–‡ä»¶åˆ—è¡¨),
  supportingEmployees: JSON (æ”¯æŒç”³è¨´çš„å“¡å·¥åˆ—è¡¨),
  createdAt: DATE,
  updatedAt: DATE
}
```

## ğŸ“ æ¥­å‹™è¦å‰‡é‚è¼¯

### ğŸ•’ ç”³è¨´æ™‚é–“é™åˆ¶
```javascript
const APPEAL_RULES = {
  // ç”³è¨´æœŸé™
  appealDeadlineDays: 7, // æŠ•ç¥¨çµæœå…¬å¸ƒå¾Œ7å¤©å…§
  
  // ç”³è¨´è³‡æ ¼
  eligibleAppealants: [
    'vote_target', // è¢«æŠ•ç¥¨å°è±¡æœ¬äºº
    'direct_supervisor', // ç›´å±¬ä¸Šç´š
    'store_manager', // åº—é•·
    'any_employee' // ä»»ä½•å“¡å·¥ (é‡å°ç¨‹åºä¸ç•¶)
  ],
  
  // ç”³è¨´é¡å‹é™åˆ¶
  appealTypeRules: {
    'promotion_result': {
      eligibleUsers: ['vote_target', 'direct_supervisor'],
      requiredEvidence: true,
      autoReviewDays: 3
    },
    'demotion_result': {
      eligibleUsers: ['vote_target', 'direct_supervisor', 'store_manager'],
      requiredEvidence: true,
      autoReviewDays: 2 // é™è·ç”³è¨´å„ªå…ˆè™•ç†
    },
    'vote_manipulation': {
      eligibleUsers: ['any_employee'],
      requiredEvidence: true,
      autoReviewDays: 1 // æ“ç¸±æŠ•ç¥¨ç·Šæ€¥è™•ç†
    },
    'unfair_process': {
      eligibleUsers: ['vote_target', 'any_employee'],
      requiredEvidence: false,
      autoReviewDays: 5
    }
  }
}
```

### ğŸ” ç”³è¨´å¯©æ ¸æµç¨‹
```javascript
const APPEAL_WORKFLOW = {
  // éšæ®µ1: ç”³è¨´æäº¤
  submission: {
    validation: [
      'æª¢æŸ¥ç”³è¨´æœŸé™',
      'é©—è­‰ç”³è¨´äººè³‡æ ¼', 
      'ç¢ºèªç”³è¨´é¡å‹',
      'æª¢æŸ¥è­‰æ“šå®Œæ•´æ€§'
    ],
    autoActions: [
      'æš«åœåŸ·è¡ŒåŸæŠ•ç¥¨çµæœ',
      'é€šçŸ¥ç›¸é—œäººå“¡',
      'å‰µå»ºå¯©æ ¸ä»»å‹™'
    ]
  },
  
  // éšæ®µ2: åˆæ­¥å¯©æ ¸
  initialReview: {
    reviewer: 'äººäº‹ä¸»ç®¡',
    timeLimit: 72, // å°æ™‚
    decisions: ['accept_for_review', 'reject_insufficient', 'require_more_evidence']
  },
  
  // éšæ®µ3: è©³ç´°èª¿æŸ¥
  investigation: {
    actions: [
      'é‡æ–°æª¢è¦–æŠ•ç¥¨è¨˜éŒ„',
      'è¨ªè«‡ç›¸é—œäººå“¡',
      'æ ¸å¯¦è­‰æ“šææ–™',
      'åˆ†ææŠ•ç¥¨æ¨¡å¼'
    ],
    timeLimit: 168 // 7å¤©
  },
  
  // éšæ®µ4: æ±ºå®šåŸ·è¡Œ
  finalDecision: {
    outcomes: {
      'maintain_result': 'ç¶­æŒåŸçµæœ',
      'revote': 'é‡æ–°æŠ•ç¥¨',
      'direct_override': 'ç›´æ¥æ¨ç¿»æ±ºå®š',
      'position_restored': 'æ¢å¾©åŸè·ä½'
    }
  }
}
```

## ğŸ›¡ï¸ é˜²ç¯„æ¿«ç”¨æ©Ÿåˆ¶

### ç”³è¨´é »ç‡é™åˆ¶
```javascript
const ABUSE_PREVENTION = {
  // å€‹äººç”³è¨´é™åˆ¶
  personalLimits: {
    maxAppealsPerMonth: 2,
    maxAppealsPerCampaign: 1,
    cooldownPeriodDays: 30
  },
  
  // æƒ¡æ„ç”³è¨´æª¢æ¸¬
  maliciousDetection: {
    indicators: [
      'é€£çºŒå¤šæ¬¡ç”³è¨´è¢«é§å›',
      'ç”³è¨´ç†ç”±é‡è¤‡æˆ–ç©ºæ´',
      'ç¼ºä¹è­‰æ“šæ”¯æ’',
      'ç”³è¨´æ™‚é–“éæ–¼æ¥è¿‘'
    ],
    penalties: [
      'warning', // è­¦å‘Š
      'appeal_restriction', // é™åˆ¶ç”³è¨´æ¬Š
      'disciplinary_action' // ç´€å¾‹è™•åˆ†
    ]
  }
}
```

## ğŸ“Š ç”³è¨´çµ±è¨ˆå’Œç›£æ§

### é—œéµæŒ‡æ¨™
```javascript
const APPEAL_METRICS = {
  // ç”³è¨´ç‡çµ±è¨ˆ
  appealRate: {
    formula: 'ç”³è¨´æ¡ˆä»¶æ•¸ / ç¸½æŠ•ç¥¨æ´»å‹•æ•¸',
    healthyRange: '<10%',
    warningRange: '10-20%',
    criticalRange: '>20%'
  },
  
  // ç”³è¨´æˆåŠŸç‡
  successRate: {
    formula: 'ç”³è¨´æˆåŠŸæ•¸ / ç¸½ç”³è¨´æ•¸',
    healthyRange: '20-40%', // éä½è¡¨ç¤ºç”³è¨´é–€æª»éé«˜ï¼Œéé«˜è¡¨ç¤ºæŠ•ç¥¨å“è³ªå·®
  },
  
  // è™•ç†æ•ˆç‡
  processingTime: {
    target: '<7å¤©',
    sla: '<14å¤©'
  }
}
```
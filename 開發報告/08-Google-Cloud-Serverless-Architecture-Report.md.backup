# ğŸŒ©ï¸ ä¼æ¥­å“¡å·¥ç®¡ç†ç³»çµ± - Google Cloud ç„¡ä¼ºæœå™¨æ¶æ§‹å®Œæ•´æŒ‡å—

## ğŸ“‹ æ–‡æª”æ¦‚è¿°

æœ¬æŒ‡å—å°ˆç‚º Google Cloud ç„¡ä¼ºæœå™¨æ¶æ§‹è¨­è¨ˆï¼Œæ¶µè“‹ï¼š
- æ¶æ§‹è¨­è¨ˆèˆ‡é™åˆ¶åˆ†æ
- å¿…è¦è³‡æ–™è¡¨ç²¾ç°¡åˆ†æ
- UI/UX æŸ”å’Œè³ªæ„Ÿè¨­è¨ˆè¦æ ¼
- å…ƒä»¶èˆ‡è³‡æ–™åº«å°æ‡‰é—œä¿‚
- éƒ¨ç½²æµç¨‹èˆ‡è‡ªå‹•åŒ–é©—è­‰

---

## ğŸ—ï¸ Google Cloud ç„¡ä¼ºæœå™¨æ¶æ§‹åˆ†æ

### æ¶æ§‹é¸æ“‡ç†ç”±

| æœå‹™ | ç”¨é€” | å„ªå‹¢ | é™åˆ¶ |
|------|------|------|------|
| **Cloud Run** | API æœå‹™ | è‡ªå‹•æ“´å±•ã€æŒ‰éœ€ä»˜è²» | å†·å•Ÿå‹•ã€15åˆ†é˜è¶…æ™‚ |
| **Cloud Functions** | äº‹ä»¶è™•ç† | å®Œå…¨ç„¡ä¼ºæœå™¨ | 10åˆ†é˜è¶…æ™‚ã€10MBè«‹æ±‚é™åˆ¶ |
| **Firestore** | NoSQL è³‡æ–™åº« | å³æ™‚åŒæ­¥ã€è‡ªå‹•å‚™ä»½ | è¤‡é›œæŸ¥è©¢é™åˆ¶ |
| **Firebase Hosting** | å‰ç«¯è¨—ç®¡ | CDNã€SSLã€å¿«é€Ÿéƒ¨ç½² | éœæ…‹æª”æ¡ˆé™åˆ¶ |
| **Cloud Storage** | æª”æ¡ˆå„²å­˜ | ç„¡é™å®¹é‡ã€å¤šå±¤å„²å­˜ | éœ€è¦ç°½åURL |

### Google Cloud é™åˆ¶èˆ‡æ³¨æ„äº‹é …

#### 1. Cloud Run é™åˆ¶
```yaml
# Cloud Run é…ç½®é™åˆ¶
æœå‹™é™åˆ¶:
  è«‹æ±‚è¶…æ™‚: 60åˆ†é˜ (æœ€å¤§)
  ä¸¦ç™¼è«‹æ±‚: 1000 (æ¯å¯¦ä¾‹)
  è¨˜æ†¶é«”: 32GB (æœ€å¤§)
  CPU: 8 vCPU (æœ€å¤§)
  è«‹æ±‚å¤§å°: 32MB
  å›æ‡‰å¤§å°: 32MB
  
å†·å•Ÿå‹•è€ƒé‡:
  - ä½¿ç”¨æœ€å°å¯¦ä¾‹æ•¸é¿å…å†·å•Ÿå‹•
  - å„ªåŒ–å®¹å™¨å¤§å° (<100MB)
  - ä½¿ç”¨é ç†±ç«¯é»
```

#### 2. Firestore é™åˆ¶
```yaml
æ–‡æª”é™åˆ¶:
  æ–‡æª”å¤§å°: 1MB
  å¯«å…¥é€Ÿç‡: 1æ¬¡/ç§’ (æ¯æ–‡æª”)
  æ‰¹æ¬¡å¯«å…¥: 500å€‹æ“ä½œ
  æŸ¥è©¢é™åˆ¶: è¤‡åˆç´¢å¼•éœ€é å…ˆå®šç¾©
  
æˆæœ¬è€ƒé‡:
  è®€å–: $0.06/100Kæ¬¡
  å¯«å…¥: $0.18/100Kæ¬¡
  å„²å­˜: $0.18/GB/æœˆ
```

#### 3. Firebase Hosting é™åˆ¶
```yaml
è¨—ç®¡é™åˆ¶:
  æª”æ¡ˆå¤§å°: 2GB (å–®æª”)
  éƒ¨ç½²å¤§å°: 1GB (ç¸½è¨ˆ)
  ä¸¦ç™¼é€£ç·š: ç„¡é™åˆ¶
  é »å¯¬: 360GB/æœˆ (å…è²»é¡åº¦)
```

---

## ğŸ“Š ç²¾ç°¡è³‡æ–™è¡¨åˆ†æ

### å¿…è¦è³‡æ–™è¡¨ï¼ˆ7å€‹æ ¸å¿ƒè¡¨ï¼‰

æ ¹æ“šéœ€æ±‚åˆ†æï¼Œç§»é™¤ä¸å¿…è¦çš„åŠŸèƒ½å¾Œï¼Œç²¾ç°¡ç‚ºä»¥ä¸‹æ ¸å¿ƒè³‡æ–™è¡¨ï¼š

#### 1. å“¡å·¥è³‡æ–™ (employees)
```javascript
{
  id: "è‡ªå‹•ç”Ÿæˆ",
  employeeCode: "EMP001",
  username: "john.doe",
  passwordHash: "åŠ å¯†å¾Œå¯†ç¢¼",
  name: "ç´„ç¿°Â·å¤šä¼Š",
  idNumber: "A123456789", // åŠ å¯†å„²å­˜
  department: "é¤é£²éƒ¨",
  position: "æœå‹™å“¡",
  role: "employee", // employee | manager | admin
  storeName: "å…§å£¢åº—",
  phone: "0912345678",
  hireDate: "2024-01-15",
  isActive: true,
  createdAt: Timestamp,
  updatedAt: Timestamp
}
```

#### 2. è€ƒå‹¤è¨˜éŒ„ (attendance)
```javascript
{
  id: "è‡ªå‹•ç”Ÿæˆ",
  employeeId: "EMP001",
  type: "clockIn", // clockIn | clockOut
  timestamp: "2025-01-27T15:00:00Z",
  location: {
    lat: 24.9748412,
    lng: 121.2556713,
    accuracy: 10
  },
  storeName: "å…§å£¢åº—",
  distance: 25, // å…¬å°º
  deviceFingerprint: "hashå€¼",
  // å›ºå®šç­æ¬¡ 15:00-02:00ï¼Œè‡ªå‹•è¨ˆç®—è·¨æ—¥
  shiftDate: "2025-01-27", // ç­æ¬¡æ­¸å±¬æ—¥æœŸ
  isLate: false,
  lateMinutes: 0
}
```

#### 3. ç‡Ÿæ”¶è¨˜éŒ„ (revenue)
```javascript
{
  id: "è‡ªå‹•ç”Ÿæˆ",
  date: "2025-01-27",
  storeName: "å…§å£¢åº—",
  recordedBy: "EMP001",
  revenue: {
    dineIn: 35000,
    delivery: 15000,
    takeout: 8000,
    other: 2000
  },
  expenses: {
    food: 18000,
    labor: 12000,
    utilities: 3000,
    other: 2000
  },
  totalRevenue: 60000,
  totalExpense: 35000,
  netRevenue: 25000,
  photos: ["gs://bucket/photo1.jpg"],
  status: "pending", // pending | approved
  approvedBy: null,
  approvedAt: null
}
```

#### 4. åº«å­˜é …ç›® (inventory)
```javascript
{
  id: "è‡ªå‹•ç”Ÿæˆ",
  itemCode: "ITEM001",
  itemName: "é›èƒ¸è‚‰",
  category: "è‚‰é¡",
  unit: "å…¬æ–¤",
  currentStock: 50,
  minStock: 20,
  lastPrice: 120,
  supplier: "å„ªè³ªè‚‰å“",
  isActive: true
}
```

#### 5. å«è²¨è¨‚å–® (orders)
```javascript
{
  id: "è‡ªå‹•ç”Ÿæˆ",
  orderNumber: "ORD20250127001",
  orderDate: "2025-01-27",
  storeName: "å…§å£¢åº—",
  orderedBy: "EMP001",
  items: [
    {
      itemCode: "ITEM001",
      itemName: "é›èƒ¸è‚‰",
      quantity: 30,
      unit: "å…¬æ–¤",
      unitPrice: 120,
      subtotal: 3600
    }
  ],
  totalAmount: 3600,
  status: "pending", // pending | received
  expectedDelivery: "2025-01-29",
  notes: "è«‹ç¢ºä¿å†·éˆé‹è¼¸"
}
```

#### 6. å…¬å‘Šç³»çµ± (announcements)
```javascript
{
  id: "è‡ªå‹•ç”Ÿæˆ",
  title: "æ˜¥ç¯€æ’ç­é€šçŸ¥",
  content: "è«‹åŒä»æ–¼1/30å‰å®Œæˆ2æœˆä»½æ’ç­ç™»è¨˜",
  priority: "high", // low | normal | high
  targetRoles: ["employee", "manager"],
  targetStores: ["å…§å£¢åº—", "æ¡ƒåœ’åº—"],
  createdBy: "ADMIN001",
  createdAt: Timestamp,
  expiresAt: Timestamp,
  isActive: true,
  readBy: ["EMP001", "EMP002"] // å·²è®€å“¡å·¥æ¸…å–®
}
```

#### 7. ç³»çµ±è¨­å®š (settings)
```javascript
{
  id: "è‡ªå‹•ç”Ÿæˆ",
  category: "telegram",
  settings: {
    botToken: "7659930552:AAF_jF1rAXFnjFO176-9X5fKfBwbrko8BNc",
    bossGroupId: "-1002658082392", // å¯å¾ç®¡ç†é é¢ä¿®æ”¹
    employeeGroupId: "-1002658082392", // æš«æ™‚ç›¸åŒï¼Œä¹‹å¾Œä¿®æ”¹
    notificationEnabled: true
  },
  updatedBy: "ADMIN001",
  updatedAt: Timestamp
}
```

### ç§»é™¤çš„è³‡æ–™è¡¨èªªæ˜

| ç§»é™¤é …ç›® | åŸå›  |
|----------|------|
| schedules (æ’ç­) | å›ºå®šç­æ¬¡15:00-02:00ï¼Œç„¡éœ€è¤‡é›œæ’ç­ |
| maintenanceRequests | éæ ¸å¿ƒåŠŸèƒ½ |
| promotionVotes | éæ ¸å¿ƒåŠŸèƒ½ |
| auditLogs | å¯ç”¨ Cloud Logging æ›¿ä»£ |

---

## ğŸ¨ UI/UX æŸ”å’Œè³ªæ„Ÿè¨­è¨ˆè¦æ ¼

### è¨­è¨ˆåŸå‰‡
- **æŸ”å’Œé…è‰²**ï¼šé¿å…é«˜å°æ¯”å’Œé®®è±”è‰²å½©
- **è³ªæ„Ÿå±¤æ¬¡**ï¼šé©åº¦é™°å½±å’Œåœ“è§’
- **èˆ’é©é–±è®€**ï¼šå……è¶³ç•™ç™½å’Œå­—è·

### é…è‰²æ–¹æ¡ˆ

```css
/* ä¸»è¦è‰²å½©ç³»çµ± - æŸ”å’Œè—ç°è‰²ç³» */
:root {
  /* ä¸»è‰²èª¿ */
  --primary-50: #E8F4FD;
  --primary-100: #C3E4FB;
  --primary-200: #9DD3F8;
  --primary-300: #77C1F5;
  --primary-400: #51AFF2;
  --primary-500: #2B9DEF; /* ä¸»è¦è‰² */
  --primary-600: #1E8DDC;
  --primary-700: #1A7BC2;
  
  /* ä¸­æ€§è‰² */
  --gray-50: #FAFBFC;
  --gray-100: #F4F6F8;
  --gray-200: #E9ECEF;
  --gray-300: #DEE2E6;
  --gray-400: #CED4DA;
  --gray-500: #ADB5BD;
  --gray-600: #6C757D;
  --gray-700: #495057;
  --gray-800: #343A40;
  --gray-900: #212529;
  
  /* èƒŒæ™¯è‰² */
  --bg-primary: #FFFFFF;
  --bg-secondary: #F8FAFB;
  --bg-tertiary: #F0F4F7;
  
  /* åŠŸèƒ½è‰² */
  --success: #4ECDC4;
  --warning: #FFD93D;
  --danger: #FF6B6B;
  --info: #4DABF7;
  
  /* é™°å½±ç³»çµ± */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.12);
}
```

### å­—é«”ç³»çµ±
```css
/* å­—é«”é…ç½® */
--font-primary: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans TC", "Microsoft JhengHei", sans-serif;
--font-mono: "SF Mono", Monaco, "Cascadia Code", monospace;

/* å­—é«”å¤§å° */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
--text-3xl: 1.875rem;  /* 30px */
```

---

## ğŸ”— é é¢å…ƒä»¶èˆ‡è³‡æ–™åº«å°æ‡‰é—œä¿‚

### 1. ç™»å…¥é é¢ (/login)

#### å…ƒä»¶çµæ§‹
```html
<div class="login-container">
  <div class="login-card">
    <h1 class="login-title">å“¡å·¥ç®¡ç†ç³»çµ±</h1>
    <form id="loginForm">
      <div class="form-group">
        <label>å¸³è™Ÿ</label>
        <input id="username" type="text" />
      </div>
      <div class="form-group">
        <label>å¯†ç¢¼</label>
        <input id="password" type="password" />
      </div>
      <button id="loginButton" class="btn-primary">ç™»å…¥</button>
    </form>
  </div>
</div>
```

#### å°æ‡‰é—œä¿‚
| å…ƒä»¶ | è³‡æ–™åº« | å‡½å¼ | èªªæ˜ |
|------|--------|------|------|
| #username | employees.username | validateUsername() | é©—è­‰ç”¨æˆ¶å |
| #password | employees.passwordHash | validatePassword() | é©—è­‰å¯†ç¢¼ |
| #loginButton | - | handleLogin() | è™•ç†ç™»å…¥é‚è¼¯ |

### 2. å„€è¡¨æ¿é é¢ (/dashboard)

#### å…ƒä»¶çµæ§‹
```html
<div class="dashboard">
  <!-- å´é‚Šæ¬„ -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <img class="logo" src="/logo.png" />
      <h2>å…§å£¢åº—</h2>
    </div>
    <ul class="sidebar-nav">
      <li><a href="/dashboard" data-page="dashboard">ç¸½è¦½</a></li>
      <li><a href="/attendance" data-page="attendance">æ‰“å¡ç³»çµ±</a></li>
      <li><a href="/revenue" data-page="revenue">ç‡Ÿæ”¶ç®¡ç†</a></li>
      <li><a href="/inventory" data-page="inventory">åº«å­˜å«è²¨</a></li>
      <li><a href="/announcements" data-page="announcements">å…¬å‘Š</a></li>
    </ul>
  </nav>
  
  <!-- ä¸»å…§å®¹å€ -->
  <main class="main-content">
    <!-- é ‚éƒ¨å°èˆª -->
    <header class="topbar">
      <div class="user-info">
        <span class="user-name">ç´„ç¿°Â·å¤šä¼Š</span>
        <span class="user-role">æœå‹™å“¡</span>
      </div>
      <button class="logout-btn">ç™»å‡º</button>
    </header>
    
    <!-- å¿«é€Ÿçµ±è¨ˆå¡ç‰‡ -->
    <div class="quick-stats">
      <div class="stat-card" id="todayRevenue">
        <h3>ä»Šæ—¥ç‡Ÿæ”¶</h3>
        <p class="stat-value">NT$ 0</p>
      </div>
      <div class="stat-card" id="attendance-status">
        <h3>å‡ºå‹¤ç‹€æ…‹</h3>
        <p class="stat-value">æœªæ‰“å¡</p>
      </div>
      <div class="stat-card" id="lowStock">
        <h3>ä½åº«å­˜</h3>
        <p class="stat-value">0 é …</p>
      </div>
      <div class="stat-card" id="newAnnouncements">
        <h3>æ–°å…¬å‘Š</h3>
        <p class="stat-value">0 å‰‡</p>
      </div>
    </div>
  </main>
</div>
```

#### å°æ‡‰é—œä¿‚
| å…ƒä»¶ | è³‡æ–™åº«æŸ¥è©¢ | å‡½å¼ | æ›´æ–°é »ç‡ |
|------|------------|------|----------|
| .user-name | employees.name | getUserInfo() | ç™»å…¥æ™‚ |
| .user-role | employees.role | getUserRole() | ç™»å…¥æ™‚ |
| #todayRevenue | revenue (ä»Šæ—¥) | getTodayRevenue() | æ¯5åˆ†é˜ |
| #attendance-status | attendance (æœ€æ–°) | getAttendanceStatus() | å³æ™‚ |
| #lowStock | inventory (stock < minStock) | getLowStockCount() | æ¯10åˆ†é˜ |
| #newAnnouncements | announcements (æœªè®€) | getUnreadAnnouncements() | æ¯åˆ†é˜ |

### 3. æ‰“å¡é é¢ (/attendance)

#### å…ƒä»¶çµæ§‹
```html
<div class="attendance-page">
  <div class="clock-section">
    <div class="current-time" id="currentTime">15:00:00</div>
    <div class="current-location" id="currentLocation">å–å¾—å®šä½ä¸­...</div>
    
    <button id="clockInButton" class="btn-clock-in">
      <i class="icon-clock"></i>
      ä¸Šç­æ‰“å¡
    </button>
    
    <button id="clockOutButton" class="btn-clock-out" disabled>
      <i class="icon-clock"></i>
      ä¸‹ç­æ‰“å¡
    </button>
  </div>
  
  <div class="attendance-history">
    <h3>æœ¬æœˆæ‰“å¡è¨˜éŒ„</h3>
    <table id="attendanceTable">
      <thead>
        <tr>
          <th>æ—¥æœŸ</th>
          <th>ä¸Šç­æ™‚é–“</th>
          <th>ä¸‹ç­æ™‚é–“</th>
          <th>ç‹€æ…‹</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>
```

#### å°æ‡‰é—œä¿‚
| å…ƒä»¶ | è³‡æ–™åº«æ“ä½œ | å‡½å¼ | è§¸ç™¼æ¢ä»¶ |
|------|------------|------|----------|
| #currentTime | - | updateClock() | æ¯ç§’æ›´æ–° |
| #currentLocation | - | getCurrentLocation() | é é¢è¼‰å…¥ |
| #clockInButton | attendance.create() | handleClockIn() | é»æ“ŠæŒ‰éˆ• |
| #clockOutButton | attendance.update() | handleClockOut() | é»æ“ŠæŒ‰éˆ• |
| #attendanceTable | attendance.query() | loadAttendanceHistory() | é é¢è¼‰å…¥/æ‰“å¡å¾Œ |

#### æ‰“å¡é‚è¼¯å‡½å¼
```javascript
async function handleClockIn() {
  // 1. ç²å–GPSä½ç½®
  const position = await getCurrentPosition();
  
  // 2. é©—è­‰è·é›¢
  const distance = calculateDistance(
    position.coords,
    STORE_LOCATION[currentStore]
  );
  
  if (distance > 100) {
    showError('è·é›¢è¶…é100å…¬å°ºï¼Œç„¡æ³•æ‰“å¡');
    return;
  }
  
  // 3. æäº¤æ‰“å¡è¨˜éŒ„
  const record = {
    employeeId: currentUser.employeeCode,
    type: 'clockIn',
    timestamp: new Date(),
    location: {
      lat: position.coords.latitude,
      lng: position.coords.longitude,
      accuracy: position.coords.accuracy
    },
    storeName: currentStore,
    distance: distance,
    deviceFingerprint: generateFingerprint(),
    shiftDate: getShiftDate(), // è™•ç†è·¨æ—¥ç­æ¬¡
    isLate: checkIfLate()
  };
  
  await db.collection('attendance').add(record);
  
  // 4. ç™¼é€Telegramé€šçŸ¥
  await sendTelegramNotification('clockIn', record);
  
  // 5. æ›´æ–°UI
  updateClockButtons('clockedIn');
  loadAttendanceHistory();
}
```

### 4. ç‡Ÿæ”¶ç®¡ç†é é¢ (/revenue)

#### å…ƒä»¶çµæ§‹
```html
<div class="revenue-page">
  <div class="revenue-form-card">
    <h2>ç‡Ÿæ”¶ç™»è¨˜</h2>
    <form id="revenueForm">
      <!-- æ”¶å…¥å€å¡Š -->
      <div class="form-section">
        <h3>æ”¶å…¥æ˜ç´°</h3>
        <div class="form-grid">
          <div class="form-group">
            <label>å…§ç”¨</label>
            <input type="number" id="dineIn" />
          </div>
          <div class="form-group">
            <label>å¤–é€</label>
            <input type="number" id="delivery" />
          </div>
          <div class="form-group">
            <label>å¤–å¸¶</label>
            <input type="number" id="takeout" />
          </div>
          <div class="form-group">
            <label>å…¶ä»–</label>
            <input type="number" id="otherRevenue" />
          </div>
        </div>
      </div>
      
      <!-- æ”¯å‡ºå€å¡Š -->
      <div class="form-section">
        <h3>æ”¯å‡ºæ˜ç´°</h3>
        <div class="form-grid">
          <div class="form-group">
            <label>é£Ÿæ</label>
            <input type="number" id="food" />
          </div>
          <div class="form-group">
            <label>äººäº‹</label>
            <input type="number" id="labor" />
          </div>
          <div class="form-group">
            <label>æ°´é›»</label>
            <input type="number" id="utilities" />
          </div>
          <div class="form-group">
            <label>å…¶ä»–</label>
            <input type="number" id="otherExpense" />
          </div>
        </div>
      </div>
      
      <!-- ç…§ç‰‡ä¸Šå‚³ -->
      <div class="form-section">
        <h3>ä¸Šå‚³ç…§ç‰‡</h3>
        <input type="file" id="photos" multiple accept="image/*" />
        <div id="photoPreview" class="photo-preview"></div>
      </div>
      
      <!-- çµ±è¨ˆé¡¯ç¤º -->
      <div class="revenue-summary">
        <div class="summary-item">
          <span>ç¸½æ”¶å…¥:</span>
          <span id="totalRevenue">NT$ 0</span>
        </div>
        <div class="summary-item">
          <span>ç¸½æ”¯å‡º:</span>
          <span id="totalExpense">NT$ 0</span>
        </div>
        <div class="summary-item highlight">
          <span>æ·¨æ”¶å…¥:</span>
          <span id="netRevenue">NT$ 0</span>
        </div>
      </div>
      
      <button type="submit" class="btn-primary">æäº¤ç‡Ÿæ”¶</button>
    </form>
  </div>
</div>
```

#### å°æ‡‰é—œä¿‚
| å…ƒä»¶ | è³‡æ–™åº«æ¬„ä½ | å‡½å¼ | è§¸ç™¼æ™‚æ©Ÿ |
|------|------------|------|----------|
| #dineIn | revenue.revenue.dineIn | calculateTotal() | è¼¸å…¥æ™‚ |
| #delivery | revenue.revenue.delivery | calculateTotal() | è¼¸å…¥æ™‚ |
| #photos | Cloud Storage | uploadPhotos() | é¸æ“‡æª”æ¡ˆ |
| #totalRevenue | è¨ˆç®—å€¼ | updateSummary() | è‡ªå‹•è¨ˆç®— |
| #revenueForm | revenue.create() | submitRevenue() | è¡¨å–®æäº¤ |

### 5. åº«å­˜å«è²¨é é¢ (/inventory)

#### å…ƒä»¶çµæ§‹
```html
<div class="inventory-page">
  <!-- åº«å­˜åˆ—è¡¨ -->
  <div class="inventory-list">
    <h2>åº«å­˜ç‹€æ…‹</h2>
    <div class="inventory-grid" id="inventoryGrid">
      <!-- å‹•æ…‹ç”Ÿæˆåº«å­˜å¡ç‰‡ -->
    </div>
  </div>
  
  <!-- å«è²¨è¡¨å–® -->
  <div class="order-form-card">
    <h2>å»ºç«‹å«è²¨å–®</h2>
    <form id="orderForm">
      <div id="orderItems">
        <!-- å‹•æ…‹ç”Ÿæˆå«è²¨é …ç›® -->
      </div>
      <button type="button" id="addItemButton">æ–°å¢é …ç›®</button>
      <button type="submit" class="btn-primary">é€å‡ºå«è²¨å–®</button>
    </form>
  </div>
</div>
```

#### åº«å­˜å¡ç‰‡å…ƒä»¶
```javascript
function createInventoryCard(item) {
  const stockPercentage = (item.currentStock / item.minStock) * 100;
  const stockStatus = stockPercentage < 50 ? 'low' : 
                     stockPercentage < 100 ? 'warning' : 'good';
  
  return `
    <div class="inventory-card ${stockStatus}">
      <h4>${item.itemName}</h4>
      <div class="stock-info">
        <span class="current">${item.currentStock}</span>
        <span class="unit">${item.unit}</span>
      </div>
      <div class="stock-bar">
        <div class="stock-fill" style="width: ${Math.min(stockPercentage, 100)}%"></div>
      </div>
      <p class="min-stock">æœ€ä½åº«å­˜: ${item.minStock}</p>
      <button onclick="addToOrder('${item.itemCode}')" class="btn-sm">å«è²¨</button>
    </div>
  `;
}
```

---

## ğŸš€ Google Cloud éƒ¨ç½²æµç¨‹

### Phase 1: å°ˆæ¡ˆè¨­ç½® (30åˆ†é˜)

#### 1.1 å»ºç«‹ Google Cloud å°ˆæ¡ˆ
```bash
# å®‰è£ gcloud CLI
curl https://sdk.cloud.google.com | bash

# åˆå§‹åŒ–å°ˆæ¡ˆ
gcloud init
gcloud projects create employee-mgmt-2025 --name="Employee Management"
gcloud config set project employee-mgmt-2025

# å•Ÿç”¨å¿…è¦çš„ API
gcloud services enable \
  cloudbuild.googleapis.com \
  run.googleapis.com \
  firestore.googleapis.com \
  storage.googleapis.com \
  firebase.googleapis.com
```

#### 1.2 è¨­ç½® Firebase
```bash
# å®‰è£ Firebase CLI
npm install -g firebase-tools

# åˆå§‹åŒ– Firebase
firebase login
firebase init

# é¸æ“‡ï¼š
# - Firestore
# - Functions
# - Hosting
# - Storage
```

### Phase 2: å¾Œç«¯éƒ¨ç½² (45åˆ†é˜)

#### 2.1 æº–å‚™ Cloud Run æœå‹™
```dockerfile
# Dockerfile
FROM node:20-alpine

WORKDIR /app

# è¤‡è£½ä¾è³´æ–‡ä»¶
COPY package*.json ./
RUN npm ci --only=production

# è¤‡è£½æ‡‰ç”¨ç¨‹å¼ç¢¼
COPY . .

# è¨­ç½®ç’°å¢ƒè®Šæ•¸
ENV NODE_ENV=production
ENV PORT=8080

# å¥åº·æª¢æŸ¥
HEALTHCHECK --interval=30s --timeout=3s --start-period=40s --retries=3 \
  CMD node healthcheck.js

EXPOSE 8080

CMD ["node", "app.js"]
```

#### 2.2 éƒ¨ç½²åˆ° Cloud Run
```bash
# å»ºæ§‹å®¹å™¨æ˜ åƒ
gcloud builds submit --tag gcr.io/employee-mgmt-2025/api

# éƒ¨ç½²åˆ° Cloud Run
gcloud run deploy employee-api \
  --image gcr.io/employee-mgmt-2025/api \
  --platform managed \
  --region asia-east1 \
  --allow-unauthenticated \
  --set-env-vars NODE_ENV=production \
  --min-instances 1 \
  --max-instances 10 \
  --memory 512Mi
```

### Phase 3: å‰ç«¯éƒ¨ç½² (30åˆ†é˜)

#### 3.1 å»ºæ§‹å‰ç«¯
```bash
# å»ºæ§‹ç”Ÿç”¢ç‰ˆæœ¬
npm run build

# éƒ¨ç½²åˆ° Firebase Hosting
firebase deploy --only hosting
```

### Phase 4: è³‡æ–™åº«è¨­ç½® (20åˆ†é˜)

#### 4.1 Firestore ç´¢å¼•
```json
// firestore.indexes.json
{
  "indexes": [
    {
      "collectionGroup": "attendance",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "employeeId", "order": "ASCENDING" },
        { "fieldPath": "timestamp", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "revenue",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "storeName", "order": "ASCENDING" },
        { "fieldPath": "date", "order": "DESCENDING" }
      ]
    }
  ]
}
```

#### 4.2 å®‰å…¨è¦å‰‡
```javascript
// firestore.rules
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // å“¡å·¥åªèƒ½è®€å–è‡ªå·±çš„è³‡æ–™
    match /employees/{employeeId} {
      allow read: if request.auth != null && 
        (request.auth.uid == employeeId || request.auth.token.role == 'admin');
      allow write: if request.auth.token.role == 'admin';
    }
    
    // è€ƒå‹¤è¨˜éŒ„
    match /attendance/{recordId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null && 
        request.auth.uid == resource.data.employeeId;
      allow update: if false; // ç¦æ­¢ä¿®æ”¹
    }
    
    // ç‡Ÿæ”¶è¨˜éŒ„
    match /revenue/{recordId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
      allow update: if request.auth.token.role in ['manager', 'admin'];
    }
  }
}
```

---

## ğŸ¤– æ™ºæ…§ç€è¦½å™¨é©—è­‰æ¨¡æ¿

### é©—è­‰è…³æœ¬çµæ§‹
```javascript
const IntelligentBrowserVerification = require('./browser-verification');

// é…ç½®é©—è­‰åƒæ•¸
const config = {
  appUrl: 'https://employee-mgmt-2025.web.app',
  apiUrl: 'https://employee-api-xxxx.a.run.app',
  testAccounts: {
    admin: { username: 'admin', password: 'admin123' },
    employee: { username: 'john.doe', password: 'pass123' }
  }
};

// åŸ·è¡Œéšæ®µé©—è­‰
async function runPhaseVerification(phase) {
  const verifier = new IntelligentBrowserVerification(config);
  
  switch(phase) {
    case 1:
      await verifier.verifyDeployment();
      break;
    case 2:
      await verifier.verifyFunctionality();
      break;
    case 3:
      await verifier.verifyDatabase();
      break;
    case 4:
      await verifier.verifyPerformance();
      break;
  }
}
```

### é©—è­‰æª¢æŸ¥é»

#### Phase 1: éƒ¨ç½²é©—è­‰ âœ“
- [ ] Cloud Run æœå‹™é‹è¡Œä¸­
- [ ] Firebase Hosting å¯è¨ªå•
- [ ] è‡ªè¨‚ç¶²åŸŸ SSL è­‰æ›¸æœ‰æ•ˆ
- [ ] å¥åº·æª¢æŸ¥ç«¯é»å›æ‡‰æ­£å¸¸

#### Phase 2: åŠŸèƒ½é©—è­‰ âœ“
- [ ] ç™»å…¥åŠŸèƒ½æ­£å¸¸
- [ ] GPS æ‰“å¡å¯ç”¨
- [ ] ç‡Ÿæ”¶æäº¤æˆåŠŸ
- [ ] æª”æ¡ˆä¸Šå‚³æ­£å¸¸
- [ ] Telegram é€šçŸ¥ç™¼é€

#### Phase 3: è³‡æ–™åº«é©—è­‰ âœ“
- [ ] Firestore é€£ç·šæ­£å¸¸
- [ ] ç´¢å¼•å»ºç«‹å®Œæˆ
- [ ] å®‰å…¨è¦å‰‡ç”Ÿæ•ˆ
- [ ] è³‡æ–™åŒæ­¥æ­£å¸¸

#### Phase 4: æ•ˆèƒ½é©—è­‰ âœ“
- [ ] é é¢è¼‰å…¥ < 3ç§’
- [ ] API å›æ‡‰ < 500ms
- [ ] å†·å•Ÿå‹• < 5ç§’
- [ ] ä¸¦ç™¼æ¸¬è©¦é€šé

---

## ğŸ‘¨â€ğŸ’» æ–°é–‹ç™¼è€…è¦–è§’å¯©æŸ¥

### é‚„éœ€è¦è£œå……çš„è³‡è¨Š

#### 1. ç’°å¢ƒè®Šæ•¸å®Œæ•´æ¸…å–®
```env
# .env.production
PROJECT_ID=employee-mgmt-2025
REGION=asia-east1
FIREBASE_API_KEY=
FIREBASE_AUTH_DOMAIN=
FIREBASE_PROJECT_ID=
FIREBASE_STORAGE_BUCKET=
TELEGRAM_BOT_TOKEN=
TELEGRAM_GROUP_ID=
```

#### 2. éŒ¯èª¤è™•ç†è¦ç¯„
```javascript
// çµ±ä¸€éŒ¯èª¤æ ¼å¼
class AppError extends Error {
  constructor(message, code, status) {
    super(message);
    this.code = code;
    this.status = status;
  }
}

// éŒ¯èª¤ä»£ç¢¼å®šç¾©
const ERROR_CODES = {
  AUTH_FAILED: 'E001',
  GPS_UNAVAILABLE: 'E002',
  DISTANCE_EXCEEDED: 'E003',
  UPLOAD_FAILED: 'E004',
  DB_ERROR: 'E005'
};
```

#### 3. ç›£æ§èˆ‡æ—¥èªŒ
```javascript
// Cloud Logging æ•´åˆ
const { Logging } = require('@google-cloud/logging');
const logging = new Logging();
const log = logging.log('employee-app');

// è¨˜éŒ„é—œéµæ“ä½œ
function logOperation(operation, data) {
  const metadata = {
    severity: 'INFO',
    labels: {
      operation: operation,
      timestamp: new Date().toISOString()
    }
  };
  
  const entry = log.entry(metadata, data);
  log.write(entry);
}
```

#### 4. ç‰ˆæœ¬ç®¡ç†ç­–ç•¥
```yaml
# ç‰ˆæœ¬æ¨™è¨˜è¦å‰‡
ç‰ˆæœ¬æ ¼å¼: v{major}.{minor}.{patch}
ç¯„ä¾‹: v1.0.0

# ç™¼å¸ƒæµç¨‹
1. åŠŸèƒ½åˆ†æ”¯é–‹ç™¼
2. Pull Request å¯©æŸ¥
3. åˆä½µåˆ° main
4. è‡ªå‹•éƒ¨ç½²åˆ° staging
5. æ‰‹å‹•éƒ¨ç½²åˆ° production
```

### å»ºè­°å„ªå…ˆå¯¦ä½œé †åº

1. **åŸºç¤è¨­æ–½** (ç¬¬1é€±)
   - Google Cloud å°ˆæ¡ˆè¨­ç½®
   - Firebase åˆå§‹åŒ–
   - CI/CD ç®¡é“

2. **æ ¸å¿ƒåŠŸèƒ½** (ç¬¬2-3é€±)
   - ç™»å…¥ç³»çµ±
   - GPS æ‰“å¡
   - ç‡Ÿæ”¶ç®¡ç†

3. **é€²éšåŠŸèƒ½** (ç¬¬4é€±)
   - åº«å­˜ç³»çµ±
   - å…¬å‘Šç³»çµ±
   - Telegram æ•´åˆ

4. **å„ªåŒ–éƒ¨ç½²** (ç¬¬5é€±)
   - æ•ˆèƒ½èª¿æ ¡
   - ç›£æ§è¨­ç½®
   - æ–‡æª”å®Œå–„

---

## ğŸ“‹ ç¸½çµ

æœ¬å ±å‘Šæä¾›äº†å®Œæ•´çš„ Google Cloud ç„¡ä¼ºæœå™¨æ¶æ§‹æ–¹æ¡ˆï¼ŒåŒ…å«ï¼š

1. **ç²¾ç°¡è³‡æ–™è¡¨**ï¼šå¾ 11 å€‹æ¸›è‡³ 7 å€‹æ ¸å¿ƒè¡¨
2. **æŸ”å’Œ UI è¨­è¨ˆ**ï¼šè—ç°è‰²ç³»ï¼Œé¿å…ç´«è‰²ç­‰åˆºçœ¼é…è‰²  
3. **è©³ç´°å…ƒä»¶å°æ‡‰**ï¼šæ¯å€‹æŒ‰éˆ•ã€è¼¸å…¥æ¡†éƒ½æœ‰æ˜ç¢ºçš„è³‡æ–™åº«é—œè¯
4. **å®Œæ•´éƒ¨ç½²æµç¨‹**ï¼šåŒ…å«è‡ªå‹•åŒ–é©—è­‰è…³æœ¬
5. **æ–°æ‰‹å‹å–„**ï¼šæä¾›ç’°å¢ƒè®Šæ•¸ã€éŒ¯èª¤è™•ç†ç­‰è£œå……è³‡è¨Š

éµå¾ªæ­¤å ±å‘Šå¯ç¢ºä¿ç³»çµ±é †åˆ©éƒ¨ç½²æ–¼ Google Cloudï¼Œä¸¦ç¬¦åˆæ‰€æœ‰ç„¡ä¼ºæœå™¨æ¶æ§‹çš„é™åˆ¶èˆ‡æœ€ä½³å¯¦è¸ã€‚

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¥æœŸ**: 2025-08-06  
**æ¶æ§‹è¨­è¨ˆ**: AI é–‹ç™¼åœ˜éšŠ
const axios = require('axios');
const fs = require('fs');
const path = require('path');

async function sendFlightReportStage6() {
    const botToken = '7659930552:AAF_jF1rAXFnjFO176-9X5fKfBwbrko8BNc';
    const chatId = '-1002658082392';
    
    const report = `âœˆï¸ é£›æ©Ÿå½™å ± - éšæ®µ 6 å®Œæˆå ±å‘Š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š å·¥ä½œé€²åº¦å½™æ•´:                              â”‚
â”‚ âœ… å®Œæˆä»»å‹™: å«è²¨ç®¡ç†ç³»çµ±é–‹ç™¼å®Œæˆ             â”‚
â”‚ ğŸ“ˆ å®Œæˆç‡: 62.5% (10/16 å·²å®Œæˆ)             â”‚
â”‚ ğŸ”§ ä½¿ç”¨æ¨¡çµ„: ç•°å¸¸ç›£æ§å¼•æ“ã€è³¼ç‰©è»Šç³»çµ±         â”‚
â”‚ â±ï¸ åŸ·è¡Œæ™‚é–“: ç´„ 35 åˆ†é˜                     â”‚
â”‚                                           â”‚
â”‚ ğŸ” æŠ€è¡“åˆ†æç™¼ç¾:                              â”‚
â”‚ ğŸ›’ å®Œæ•´å«è²¨è³¼ç‰©è»Šç³»çµ±å¯¦ç¾                     â”‚
â”‚ ğŸ“¦ å“é …åˆ†é¡ç®¡ç†(ä¸»è¦é£Ÿæ/é£²æ–™/èª¿å‘³æ–™/åŒ…è£)   â”‚
â”‚ ğŸ­ å» å•†åˆ†çµ„åˆ†æåŠŸèƒ½                         â”‚
â”‚ âš ï¸ æ™ºæ…§ç•°å¸¸ç›£æ§å¼•æ“                         â”‚
â”‚ ğŸ“Š å“é …é€²è²¨å¤©æ•¸è¿½è¹¤                         â”‚
â”‚ ğŸ§® è³¼ç‰©è»Šç¸½è¨ˆè‡ªå‹•è¨ˆç®—                        â”‚
â”‚ ğŸ“‹ è¨‚å–®è¨˜éŒ„å®Œæ•´CRUDæ“ä½œ                     â”‚
â”‚ ğŸ¤– å®Œæ•´Telegramé€šçŸ¥æ•´åˆ                     â”‚
â”‚                                           â”‚
â”‚ ğŸ› ï¸ ç³»çµ±åŠŸèƒ½é©—è­‰:                             â”‚
â”‚ âœ… å“é …æ•¸æ“šå»ºç«‹: 12å€‹æ¸¬è©¦å“é …4å€‹åˆ†é¡         â”‚
â”‚ âœ… å«è²¨è¨‚å–®æäº¤: æˆåŠŸå»ºç«‹è¨‚å–®ID=1           â”‚
â”‚ âœ… è¨‚å–®é‡‘é¡è¨ˆç®—: $725(é›æ’$350+è–¯æ¢$375)   â”‚
â”‚ âœ… å» å•†åˆ†æ: å¤§å¤§é£Ÿå“25ä»¶å“é …è‡ªå‹•åˆ†çµ„        â”‚
â”‚ âœ… ç•°å¸¸ç›£æ§: 4å¤©å‰å“é …ç•°å¸¸æª¢æ¸¬æ­£å¸¸           â”‚
â”‚ âœ… Telegramé€šçŸ¥: å“¡å·¥+è€é—†å» å•†åˆ†é¡é€šçŸ¥      â”‚
â”‚ âœ… è¨‚å–®æŸ¥è©¢API: å®Œæ•´åˆ†é è³‡æ–™è¿”å›             â”‚
â”‚                                           â”‚
â”‚ ğŸ’¡ ä¸‹ä¸€æ­¥å»ºè­°:                                â”‚
â”‚ ğŸ“… æ’ç­ç³»çµ±é–‹ç™¼(6é‡è¦å‰‡å¼•æ“å»ºç½®)             â”‚
â”‚ ğŸ—³ï¸ å‡é·æŠ•ç¥¨ç³»çµ±é–‹ç™¼(åŒ¿åæ©Ÿåˆ¶)               â”‚
â”‚                                           â”‚
â”‚ ğŸ’¾ Gitç‹€æ…‹å‚™è¨»:                              â”‚
â”‚ ğŸ“ å«è²¨ç®¡ç†ç³»çµ±å®Œæ•´é–‹ç™¼å®Œæˆ                   â”‚
â”‚                                           â”‚
â”‚ ğŸ“± é€šçŸ¥ç¢ºèª: âœ… Telegramé€šçŸ¥å·²ç™¼é€           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`;

    try {
        const response = await axios.post(`https://api.telegram.org/bot${botToken}/sendMessage`, {
            chat_id: chatId,
            text: report,
            parse_mode: 'HTML'
        });
        
        console.log('âœ… éšæ®µ6é£›æ©Ÿå½™å ±ç™¼é€æˆåŠŸ');
        
        // ä¿å­˜æœ¬åœ°å ±å‘Š
        const reportDir = './flight-reports';
        if (!fs.existsSync(reportDir)) {
            fs.mkdirSync(reportDir, { recursive: true });
        }
        
        const timestamp = new Date().toISOString().replace(/:/g, '-').split('T')[0];
        const reportPath = path.join(reportDir, `flight-report-stage-6-${timestamp}.txt`);
        fs.writeFileSync(reportPath, report, 'utf8');
        console.log(`ğŸ“ éšæ®µ6å ±å‘Šå·²ä¿å­˜: ${reportPath}`);
        
    } catch (error) {
        console.error('âŒ éšæ®µ6é£›æ©Ÿå½™å ±ç™¼é€å¤±æ•—:', error.message);
    }
}

sendFlightReportStage6();
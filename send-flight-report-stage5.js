const axios = require('axios');
const fs = require('fs');
const path = require('path');

async function sendFlightReportStage5() {
    const botToken = '7659930552:AAF_jF1rAXFnjFO176-9X5fKfBwbrko8BNc';
    const chatId = '-1002658082392';
    
    const report = `âœˆï¸ é£›æ©Ÿå½™å ± - éšæ®µ 5 å®Œæˆå ±å‘Š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š å·¥ä½œé€²åº¦å½™æ•´:                              â”‚
â”‚ âœ… å®Œæˆä»»å‹™: ç‡Ÿæ”¶ç®¡ç†ç³»çµ±é–‹ç™¼å®Œæˆ             â”‚
â”‚ ğŸ“ˆ å®Œæˆç‡: 56.3% (9/16 å·²å®Œæˆ)              â”‚
â”‚ ğŸ”§ ä½¿ç”¨æ¨¡çµ„: çé‡‘è¨ˆç®—å¼•æ“ã€ç‡Ÿæ”¶è¨˜éŒ„ç³»çµ±       â”‚
â”‚ â±ï¸ åŸ·è¡Œæ™‚é–“: ç´„ 45 åˆ†é˜                     â”‚
â”‚                                           â”‚
â”‚ ğŸ” æŠ€è¡“åˆ†æç™¼ç¾:                              â”‚
â”‚ ğŸ’° å®Œæ•´çé‡‘è¨ˆç®—å¼•æ“å¯¦ç¾                       â”‚
â”‚ ğŸ“ å¹³æ—¥/å‡æ—¥çé‡‘å…¬å¼ç²¾ç¢ºè¨ˆç®—                  â”‚
â”‚ ğŸ“Š ç‡Ÿæ”¶è¨˜éŒ„å®Œæ•´CRUDæ“ä½œ                      â”‚
â”‚ ğŸª åˆ†åº—ç‡Ÿæ”¶åŒ¯ç¸½çµ±è¨ˆåŠŸèƒ½                       â”‚
â”‚ ğŸ§® è‡ªå‹•æœå‹™è²»æ‰£é™¤è¨ˆç®—(35%)                   â”‚
â”‚ ğŸ“… æ™ºæ…§çé‡‘é¡å‹åˆ¤æ–·(é€±æœ«å‡æ—¥)                â”‚
â”‚ ğŸ” ç‡Ÿæ”¶è¨˜éŒ„ä½œå»¢æ©Ÿåˆ¶                         â”‚
â”‚ ğŸ“‹ åˆ†é æŸ¥è©¢å’Œæ¢ä»¶ç¯©é¸                        â”‚
â”‚ ğŸ¤– å®Œæ•´Telegramé€šçŸ¥æ•´åˆ                     â”‚
â”‚                                           â”‚
â”‚ ğŸ› ï¸ ç³»çµ±åŠŸèƒ½é©—è­‰:                             â”‚
â”‚ âœ… å¹³æ—¥çé‡‘è¨ˆç®—: $30000â†’$6900(é”æ¨™)        â”‚
â”‚ âœ… å‡æ—¥çé‡‘è¨ˆç®—: $16000â†’$5016(é”æ¨™)        â”‚
â”‚ âœ… ç‡Ÿæ”¶è¨˜éŒ„æäº¤: æˆåŠŸå»ºç«‹è¨˜éŒ„ID=1            â”‚
â”‚ âœ… è¨˜éŒ„æŸ¥è©¢API: å®Œæ•´åˆ†é è³‡æ–™è¿”å›             â”‚
â”‚ âœ… åˆ†åº—åŒ¯ç¸½API: 3å€‹åˆ†åº—çµ±è¨ˆæ­£å¸¸              â”‚
â”‚ âœ… Telegramé€šçŸ¥: å“¡å·¥+è€é—†é›™é‡é€šçŸ¥           â”‚
â”‚ âœ… çé‡‘å…¬å¼é©—è­‰: ç³»çµ±é‚è¼¯.txtå®Œå…¨ç¬¦åˆ        â”‚
â”‚                                           â”‚
â”‚ ğŸ’¡ ä¸‹ä¸€æ­¥å»ºè­°:                                â”‚
â”‚ ğŸ“¦ å«è²¨ç®¡ç†ç³»çµ±å»ºç½®(ç•°å¸¸ç›£æ§æ©Ÿåˆ¶)             â”‚
â”‚ ğŸ“… æ’ç­ç³»çµ±é–‹ç™¼(6é‡è¦å‰‡å¼•æ“)                 â”‚
â”‚                                           â”‚
â”‚ ğŸ’¾ Gitç‹€æ…‹å‚™è¨»:                              â”‚
â”‚ ğŸ“ ç‡Ÿæ”¶ç®¡ç†ç³»çµ±å®Œæ•´é–‹ç™¼å®Œæˆ                   â”‚
â”‚                                           â”‚
â”‚ ğŸ“± é€šçŸ¥ç¢ºèª: âœ… Telegramé€šçŸ¥å·²ç™¼é€           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`;

    try {
        const response = await axios.post(`https://api.telegram.org/bot${botToken}/sendMessage`, {
            chat_id: chatId,
            text: report,
            parse_mode: 'HTML'
        });
        
        console.log('âœ… éšæ®µ5é£›æ©Ÿå½™å ±ç™¼é€æˆåŠŸ');
        
        // ä¿å­˜æœ¬åœ°å ±å‘Š
        const reportDir = './flight-reports';
        if (!fs.existsSync(reportDir)) {
            fs.mkdirSync(reportDir, { recursive: true });
        }
        
        const timestamp = new Date().toISOString().replace(/:/g, '-').split('T')[0];
        const reportPath = path.join(reportDir, `flight-report-stage-5-${timestamp}.txt`);
        fs.writeFileSync(reportPath, report, 'utf8');
        console.log(`ğŸ“ éšæ®µ5å ±å‘Šå·²ä¿å­˜: ${reportPath}`);
        
    } catch (error) {
        console.error('âŒ éšæ®µ5é£›æ©Ÿå½™å ±ç™¼é€å¤±æ•—:', error.message);
    }
}

sendFlightReportStage5();